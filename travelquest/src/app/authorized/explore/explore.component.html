<section class="explore-container">
  <h1>Explore</h1>

  <div *ngIf="nearbyUsers$ | async as users; else noUsers">
    <mat-card *ngFor="let user of users" class="user-card">
      <img
        *ngIf="user.profilePhoto"
        [src]="user.profilePhoto"
        alt="{{ user.name }}"
        class="profile-photo"
      />
      <mat-card-content>
        <h2>{{ user.name }}</h2>
        <p>Age: {{ user.age || "N/A" }}</p>
        <!-- Fallback for missing age -->
        <p>Country: {{ user.country }}</p>
        <p>Shared Hashtags:</p>
        <div class="hashtags">
          <span *ngFor="let tag of user.hashtags" class="hashtag">
            {{ tag }}
          </span>
        </div>
      </mat-card-content>

      <!-- Explore Profile Button -->
      <button
        mat-raised-button
        color="primary"
        [routerLink]="['/user', user.id]"
      >
        Explore Profile
      </button>
    </mat-card>
  </div>

  <ng-template #noUsers>
    <p>No users nearby with matching hashtags.</p>
  </ng-template>
</section>
